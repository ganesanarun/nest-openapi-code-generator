components:
  schemas:
    Error:
      type: object
      required:
        - code
        - message
        - timestamp
      properties:
        code:
          type: string
          description: Error code
          example: "RESOURCE_NOT_FOUND"
        message:
          type: string
          description: Human-readable error message
          example: "The requested resource could not be found"
        details:
          type: string
          description: Additional error details
          example: "Resource with ID 123 does not exist"
        timestamp:
          type: string
          format: date-time
          description: When the error occurred
          example: "2023-01-15T10:30:00Z"
        traceId:
          type: string
          description: Unique identifier for request tracing
          example: "abc123def456"

    ValidationError:
      type: object
      required:
        - code
        - message
        - errors
        - timestamp
      properties:
        code:
          type: string
          description: Error code
          example: "VALIDATION_ERROR"
        message:
          type: string
          description: Human-readable error message
          example: "Request validation failed"
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                description: Field that failed validation
                example: "email"
              message:
                type: string
                description: Validation error message
                example: "Invalid email format"
              code:
                type: string
                description: Specific validation error code
                example: "INVALID_FORMAT"
              value:
                description: The invalid value that was provided
                example: "invalid-email"
        timestamp:
          type: string
          format: date-time
          description: When the error occurred
          example: "2023-01-15T10:30:00Z"
        traceId:
          type: string
          description: Unique identifier for request tracing
          example: "abc123def456"

    UnauthorizedError:
      type: object
      required:
        - code
        - message
        - timestamp
      properties:
        code:
          type: string
          description: Error code
          example: "UNAUTHORIZED"
        message:
          type: string
          description: Human-readable error message
          example: "Authentication required"
        timestamp:
          type: string
          format: date-time
          description: When the error occurred
          example: "2023-01-15T10:30:00Z"
        traceId:
          type: string
          description: Unique identifier for request tracing
          example: "abc123def456"

    ForbiddenError:
      type: object
      required:
        - code
        - message
        - timestamp
      properties:
        code:
          type: string
          description: Error code
          example: "FORBIDDEN"
        message:
          type: string
          description: Human-readable error message
          example: "Insufficient permissions"
        requiredPermissions:
          type: array
          items:
            type: string
          description: Required permissions for this operation
          example: ["user:read", "user:write"]
        timestamp:
          type: string
          format: date-time
          description: When the error occurred
          example: "2023-01-15T10:30:00Z"
        traceId:
          type: string
          description: Unique identifier for request tracing
          example: "abc123def456"