# Basic Usage Example

This example demonstrates the basic usage of the OpenAPI NestJS Generator with a simple user management API.

## Project Structure

```
basic/
├── README.md
├── package.json
├── openapi.config.js
├── specs/
│   └── user.openapi.yaml
├── src/
│   ├── app.module.ts
│   ├── main.ts
│   ├── user/
│   │   ├── user.service.ts
│   │   └── user.controller.ts
│   └── generated/          # Generated by the tool
│       ├── controllers/
│       └── dtos/
└── tsconfig.json
```

## Setup

1. Install dependencies:
    ```bash
    npm install
    ```

2. Generate code from OpenAPI spec:
    ```bash
    npm run generate
    ```

3. Start the development server:
    ```bash
    npm run start:dev
    ```

## Generated Code

The generator will create:
- **Abstract base controllers** with the override pattern separating framework concerns from business logic
- **DTOs** with validation decorators
- **TypeScript type definitions**

### Controller Override Pattern

The generated controllers use a clean override pattern:

```typescript
// Generated: src/generated/user/user.controller.base.ts
@ApiTags('users')
export abstract class UserControllerBase {
  // Decorated method with framework concerns
  @Get('/users')
  @ApiOperation({ summary: 'Get all users' })
  @ApiResponse({ status: 200, type: [UserDto] })
  _getUsers(): Promise<UserDto[]> {
    return this.getUsers(); // Calls your implementation
  }

  // Abstract method for your clean implementation
  abstract getUsers(): Promise<UserDto[]>;
}

// Your implementation: src/user/user.controller.ts
@Controller() // Add @Controller for dependency injection
export class UserController extends UserControllerBase {
  constructor(private userService: UserService) {
    super();
  }

  // Clean implementation without decorators
  async getUsers(): Promise<UserDto[]> {
    return this.userService.findAll();
  }
}
```

## Implementation

The example shows how to:
- Define a simple OpenAPI specification
- Configure the generator
- **Extend generated base controllers** using the override pattern
- **Implement clean business logic** without framework decorators
- Set up a validation pipeline
- Integrate with a NestJS application

## API Endpoints

Once running, the following endpoints will be available:

- `GET /users` - Get all users
- `POST /users` - Create a new user
- `GET /users/:id` - Get user by ID
- `PUT /users/:id` - Update user
- `DELETE /users/:id` - Delete user

## Testing

Test the API using curl or any HTTP client:

```bash
# Get all users
curl http://localhost:3000/users

# Create a user
curl -X POST http://localhost:3000/users \
  -H "Content-Type: application/json" \
  -d '{"email":"john@example.com","firstName":"John","lastName":"Doe"}'
```